
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Candidate Registration | OVS</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="form.css">
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="logo">🗳️ OVS</div>
    <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="voter-login.html">Voter</a></li>
        <li><a href="candidate-register.html" class="active">Candidate Register</a></li>
       <li><a href="candidate-login.html">Candidate Login</a></li>
        <li><a href="admin-login.html">Admin</a></li>
        <li><a href="results.html">Results</a></li>
    </ul>
  </nav>

  <!-- Overlay + Form -->
  <div class="overlay">
    <h2>Register as Candidate</h2>
    <form id="candidateRegisterForm">
      <label>Name:</label>
      <input type="text" id="name" placeholder="Full Name" required>

      <label>Party:</label>
      <input type="text" id="party" placeholder="Party Name or Independent" required>

      <label>Position:</label>
      <input type="text" id="position" placeholder="e.g., President" required>

      <label>Campaign Info:</label>
      <textarea id="campaign_info" rows="4" placeholder="Enter campaign details" required></textarea>

      <label>Election:</label>
      <input type="text" id="election" placeholder="Election Name" required>

      <button type="submit">Register</button>
    </form>
    <p id="registerMsg"></p>
  </div>

  <!-- Footer -->
  <footer>
    © 2025 Online Voting System | All Rights Reserved
  </footer>

  <!-- Script -->
  <script>
    document.getElementById("candidateRegisterForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const candidate = {
        name: document.getElementById("name").value,
        party: document.getElementById("party").value,
        position: document.getElementById("position").value,
        campaign_info: document.getElementById("campaign_info").value,
        election: document.getElementById("election").value
      };

      fetch("http://localhost:8080/candidates/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(candidate)
      })
      .then(res => res.text())
      .then(msg => document.getElementById("registerMsg").textContent = msg)
      .catch(() => document.getElementById("registerMsg").textContent = "Error registering candidate.");
    });
  </script>
  <script src="navbar.js"></script>
</body>
</html>

